package localization

import (
	"math/rand"
	"sync"
	"time"
)

type localization struct {
	m   map[string]string
	mut sync.Mutex
}

var (
	loc = localization{
		m: map[string]string{
			"error":                  "—á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –ø–æ –ø–∏–∑–¥–µ —Å–æ—Ä–∏",
			"command_only_in_group":  "–∫–æ–º–º–∞–Ω–¥–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ —Ç–æ–ª—å–∫–æ –≤ –≥—Ä—É–ø–æ–≤–æ–º —á–∞—Ç–µ",
			"give_flower_good":       "—Ç—ã —É—Å–ø–µ—à–Ω–æ –ø–æ–¥–∞—Ä–∏–ª —Ü–≤–µ—Ç–æ–∫! \n–≤ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ %v —Ç–µ–ø–µ—Ä—å –µ—Å—Ç—å %v",
			"give_flower_need_reply": "–¢–µ–±–µ –Ω—É–∂–Ω–æ –æ—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ —á–µ–ª–æ–≤–µ–∫–∞ –∫–æ—Ç–æ—Ä–æ–º—É —Ç—ã —Ö–æ—á–µ—à—å –ø–æ–¥–∞—Ä–∏—Ç—å —Ü–≤–µ—Ç–æ–∫!",
			"my_flower":              "–í–æ—Ç —Ç–≤–æ–∏ —Ü–≤–µ—Ç–æ—á–∫–∏!\n–£ —Ç–µ–±—è —É–∂–µ %v üå∑ %v üå±\n\n",
			"add_flower":             "–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç, –Ω–∞–¥–æ –∏–∫–æ–Ω–∫–∞-–Ω–∞–∑–≤–∞–Ω–∏–µ-–∫–∞—Ç–µ–≥–æ—Ä–∏—è",
			"chat_top":               "–í–æ—Ç —Ç–æ–ø —á–∞—Ç–∏–∫–∞: %v\n\n",
			"dev_welcome":            "–ü—Ä–∏–≤–µ—Ç, —è –ø–æ–∫–∞ —á—Ç–æ –æ—á–µ–Ω—å —Å—ã—Ä–∞—è, –±—É–¥—å –Ω–µ–∂–µ–Ω —Å–æ –º–Ω–æ–π...",
			"prod_welcome":           "–ü—Ä–∏–≤–µ—Ç–∏–∫, —è –∂–∞–Ω–Ω–æ—á–∫–∞, –¥–∞–≤–∞–π –∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è?",
			"yes":                    "–¥–∞",
			"no":                     "–Ω–µ—Ç",
			"idk":                    "—Ö–∑",
			"already_grew_flowers":   "–¢—ã —É–∂–µ —Å–µ–≥–æ–¥–Ω—è –ø–æ–ª–∏–≤–∞–ª —Ü–≤–µ—Ç–æ—á–∫–∏!\n–ü–æ–ø—Ä–æ–±—É–π –ø–æ–∑–∂–µ",
			"flower_grew":            "–ü–æ–∑–¥—Ä–∞–≤–ª—è—é! –¢–≤–æ–π %v –≤—ã—Ä–æ—Å!",
			"flower_grew_not_fully":  "–¢–≤–æ–π —Ü–≤–µ—Ç–æ–∫ –≤—ã—Ä–æ—Å –Ω–∞ %v —Ü–≤–µ—Ç–æ—á–∫–æ–≤—ã—Ö –µ–¥–∏–Ω–∏—Ü!\n–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –ø—Ä–∏—Ä–æ—Å—Ç: %v",
			"flower_already_have":    "\n–°–µ–π—á–∞—Å —É —Ç–µ–±—è %vüå∑ –∏ %vüå±",
			"not_admin":              "–í—ã –Ω–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä",
			"need_reply":             "–û—Ç–≤–µ—Ç—å –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ –∫–æ–≥–æ –Ω–∞–¥–æ —Å–¥–µ–ª–∞—Ç—å –∞–¥–º–∏–Ω–æ–º",
			"flower_died":            "–®—Ç–æ—à, —É –º–µ–Ω—è –ø–ª–æ—Ö–∏–µ –Ω–æ–≤–æ—Å—Ç–∏, —Ç–≤–æ–π —Ü–≤–µ—Ç–æ–∫ —É–º–µ—Ä",
			"fortune":                "%v\n\n%v",
			"admin_help": "/admin - set/unset admin\n" +
				"/addFlower - add new flower type\n" +
				"/removeFlower - remove flower type\n" +
				"/allFlowers - returns flower types list\n",
			"done":         "–î–µ–ª–æ —Å–¥–µ–ª–∞–Ω–æ!",
			"change_admin": "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å %v admin: %v\n",
			"6_card":       "–®—Ç–æ—à, –ø—å—é—Ç –≤—Å–µ –ø–æ–ª—É—á–∞–µ—Ç—Å—è",
			"7_card":       "–ù—É —à–æ, –¥–µ–≤—á–µ–Ω–∫–∏, –∑–∞ –Ω–∞—Å!",
			"8_card":       "–ü–∞—Ä–Ω–∏, —Å–º–∞—á–Ω–æ–≥–æ!",
			"9_card":       "–ò–≥—Ä–æ–∫, –≤—ã—Ç—è–Ω—É–≤—à–∏–π –∫–∞—Ä—Ç—É, –∑–∞–≥–∞–¥—ã–≤–∞–µ—Ç —Ç–µ–º—É (—Ñ—É—Ç–±–æ–ª/–Ω–∞–ø–∏—Ç–∫–∏/—Ñ–∏–Ω–∞–Ω—Å—ã, —á—Ç–æ —É–≥–æ–¥–Ω–æ), –¥–∞–ª–µ–µ –≤—Å–µ –ø–æ –æ—á–µ—Ä–µ–¥–∏ –Ω–∞–∑—ã–≤–∞—é—Ç —Å–ª–æ–≤–∞ —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å —ç—Ç–æ–π —Ç–µ–º–æ–π, —Ç–æ—Ç, –∫–æ–º—É –Ω–µ—á–µ–≥–æ —Å–∫–∞–∑–∞—Ç—å –∏–ª–∏ –¥—É–º–∞–µ—Ç –±–æ–ª—å—à–µ 5 —Å–µ–∫. - –ø—å–µ—Ç",
			"10_card":      "–°—Ä–æ—á–Ω–æ —Ö–ª–æ–ø–Ω–∏ –≤ –ª–∞–¥–æ–Ω–∏! –∫—Ç–æ –ø–æ—Å–ª–µ–¥–Ω–∏–π —Ö–ª–æ–ø–Ω–µ—Ç —Ç–æ—Ç –ø—å–µ—Ç.",
			"j_card":       "–≠—Ç–æ —Ç–≤–æ–µ –ø—Ä–∞–≤–æ –Ω–∞ –ø–µ—Ä–µ—Ä—ã–≤ (2 –º–∏–Ω). –ü–æ–∫–∞ —Ç–µ–±—è –Ω–µ—Ç –∏–≥—Ä–∞ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è. –ú–æ–∂–µ—à—å –∑–∞ —ç—Ç–æ –≤—Ä–µ–º—è –æ—Ç–æ–π—Ç–∏ –æ—Ç —Å—Ç–æ–ª–∞ –ø–æ–∫—É—à–∞—Ç—å –∏–ª–∏ –ø–æ–ø–∏—Å—è—Ç—å",
			"q_card":       "–¢–µ–ø–µ—Ä—å —Ç—ã –∏–∑–≥–æ–π. –î—Ä—É–≥–∏–º –∏–≥—Ä–æ–∫–∞–º –Ω–µ–ª—å–∑—è —Å —Ç–æ–±–æ–π –≥–æ–≤–æ—Ä–∏—Ç—å, –µ—Å–ª–∏ –æ–Ω–∏ —ç—Ç–æ —Å–¥–µ–ª–∞—é—Ç –∏–ª–∏ –æ—Ç–≤–µ—Ç—è—Ç –Ω–∞ —Ç–≤–æ–π –≤–æ–ø—Ä–æ—Å - –æ–Ω–∏ –ø—å—é—Ç. –ú–æ–∂–µ—à—å –ø—Ä–æ–≤–æ—Ü–∏—Ä–æ–≤–∞—Ç—å :)\n–î–∞–º–∞ –¥–µ–π—Å—Ç–≤—É–µ—Ç –¥–æ —Ç–µ—Ö –ø–æ—Ä –ø–æ–∫–∞ –Ω–µ –≤—ã–ø–∞–ª–∞ —Å–ª–µ–¥—É—é—â–∞—è.",
			"k_card":       "–ò–≥—Ä–æ–∫, –∫–æ—Ç–æ—Ä—ã–π –≤—ã—Ç—è–Ω—É–ª —ç—Ç—É –∫–∞—Ä—Ç—É, –¥–æ–ª–∂–µ–Ω –ø—Ä–∏–¥—É–º–∞—Ç—å –¥–≤–∏–∂–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –≤—ã –≤—Å–µ –±—É–¥–µ—Ç–µ –¥–µ–ª–∞—Ç—å –∫–∞–∂–¥—ã–º —Ä–∞–∑ –ø–µ—Ä–µ–¥ —Ç–µ–º –∫–∞–∫ –≤—ã–ø–∏—Ç—å –¥–æ –∫–æ–Ω—Ü–∞ –∏–≥—Ä—ã. \n–ï—Å–ª–∏ —É –≤–∞—Å —É–∂–µ –µ—Å—Ç—å –∂–µ—Å—Ç, –∏ –∫–æ—Ä–æ–ª—å –ø–æ–ø–∞–¥–∞–µ—Ç—Å—è 2–æ–π, 3–∏–π, 4—ã–π —Ä–∞–∑ - –∂–µ—Å—Ç—ã –∏–¥—É—Ç –¥—Ä—É–≥ –∑–∞ –¥—Ä—É–≥–æ–º.\n–ï—Å–ª–∏ –∫—Ç–æ-–Ω–∏–±—É–¥—å –∏–∑ –∏–≥—Ä–æ–∫–æ–≤ –∑–∞–±—É–¥–µ—Ç —Å–¥–µ–ª–∞—Ç—å –≤—Å–µ –¥–≤–∏–∂–µ–Ω–∏—è –ø–µ—Ä–µ–¥ —Ç–µ–º –∫–∞–∫ –≤—ã–ø–∏—Ç—å, —Ç–æ –æ–Ω –¥–æ–ª–∂–µ–Ω –≤—ã–ø–∏—Ç—å —à—Ç—Ä–∞—Ñ–Ω—É—é(–µ—â–µ —Ä–∞–∑)",
			"a_card":       "–∏–≥—Ä–æ–∫, –∫–æ—Ç–æ—Ä—ã–π –≤—ã—Ç—è–Ω—É–ª —Ç—É–∑ –≤—ã–±–∏—Ä–∞–µ—Ç —á–µ–ª–æ–≤–µ–∫–∞, –∫–æ—Ç–æ—Ä—ã–π —Å–µ–π—á–∞—Å –±—É–¥–µ—Ç –ø–∏—Ç—å.",
		},
	}
	// for danet
	danetVariations []string = []string{"–ú–∞–º–∞ —Å–∫–∞–∑–∞–ª–∞ ", "–í–∏–¥–∏–º–æ ", "–¢–æ—á–Ω–æ ", "–Ø —Å–∫–∞–∑–∞–ª–∞ ", "–ü–æ—Ö–æ–¥—É ", "–ú–Ω–µ –º–∞–º–∞ —Å–∫–∞–∑–∞–ª–∞ —á—Ç–æ ", "–ù–∞–¥–µ—é—Å—å —á—Ç–æ ", "–ó–≤–µ–∑–¥—ã —Å–∫–∞–∑–∞–ª–∏ "}
)

// returns localization
func GetLoc(key string) string {
	loc.mut.Lock()
	defer loc.mut.Unlock()
	val := loc.m[key]
	return val
}

// returns string with random agree or disagree
func GetRandomDanet() string {
	rand.Seed(time.Now().UnixNano())
	agree := rand.Intn(2) == 0
	if agree {
		return danetVariations[rand.Intn(len(danetVariations))] + GetLoc("yes")
	}
	return danetVariations[rand.Intn(len(danetVariations))] + GetLoc("no")
}
